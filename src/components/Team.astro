---
import { Image } from "astro:assets";
import team from "../assets/bloom-team.webp";
import { professionals } from "../data/professionals";
---

<section class="min-h-screen bg-black py-16">
  <div class="container mx-auto px-4">
    <div
      class="flex justify-center items-center mb-16 max-w-6xl mx-auto pl-4 pr-4"
    >
      <Image
        src={team}
        alt="Bloom Fitness Team"
        class="w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.5rem)] max-w-90"
        loading="lazy"
        widths={[360, 720]}
        sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 360px"
      />
    </div>

    <div class="flex flex-wrap justify-center gap-8 max-w-6xl mx-auto">
      {
        professionals.map((professional, index) => (
          <div class="w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.5rem)]">
            {professional.comingSoon ? (
              <div class="relative">
                <div class="w-full aspect-[4/6] flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-gray-700 rounded-md relative overflow-hidden">
                  <div class="absolute inset-0 bg-gradient-to-br from-orange-500/10 to-blue-500/10 animate-pulse" />
                  <div class="relative z-10 text-center px-4">
                    <p class="text-white text-2xl font-bold uppercase mb-2">
                      Próximamente
                    </p>
                    <p class="text-gray-200 text-sm uppercase tracking-wider">
                      Se revelará pronto
                    </p>
                  </div>
                </div>
                <div class="p-6 text-center">
                  <Image
                    src={professional.dot}
                    alt="Decorative Dot"
                    class="w-6 h-6 mx-auto mb-4"
                    loading="lazy"
                  />
                  <p class="text-gray-200 text-sm leading-relaxed">
                    {professional.description}
                  </p>
                </div>
              </div>
            ) : (
              professional.image && (
                <a
                  href={`/equipo/${professional.slug}#professional`}
                  class="block group cursor-pointer"
                >
                  <div class="relative">
                    <Image
                      src={professional.image}
                      alt={professional.name}
                      class="aspect-[4/6] w-full h-auto object-cover border-2 border-gray-700 rounded-md group-hover:border-[#ED6D35] transition-colors"
                      loading="lazy"
                      transition:name={`professional-image-${professional.slug}`}
                      widths={[320, 500, 555, 640]}
                      sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
                    />
                    <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 backdrop-blur-xs border-2 border-white rounded-full px-6 py-3 text-center whitespace-nowrap group-hover:border-[#ED6D35] transition-colors">
                      <p
                        class="text-white text-lg font-bold uppercase"
                        transition:name={`professional-name-${professional.slug}`}
                      >
                        {professional.name.split(" ").length > 2
                          ? professional.name.split(" ").slice(0, -1).join(" ")
                          : professional.name}
                      </p>
                      <p
                        class="text-white text-xs font-semibold uppercase tracking-wide"
                        transition:name={`professional-area-${professional.slug}`}
                      >
                        {professional.area}
                      </p>
                    </div>
                  </div>
                  <div class="p-6 text-center">
                    <Image
                      src={professional.dot}
                      alt="Decorative Dot"
                      class="w-6 h-6 mx-auto mb-4"
                      loading="lazy"
                    />
                    <p class="text-gray-200 text-sm leading-relaxed group-hover:text-gray-300 transition-colors">
                      {professional.description}
                    </p>
                  </div>
                </a>
              )
            )}
          </div>
        ))
      }
    </div>
  </div>
</section>
